# library_of_book
 
Используемые версии:
Python – 3.10.9
Flask – 2.2.3
Для запуска приложения необходимо скачать файл “main.py” и запустить его. Для этого  терминале необходимо войти в папку, в которой находится данный файл, и выполнить команду “python3 main.py” для Linux или “python main.py” Windows.
Из репозитория также можно скачать частично заполненную базу данных “library.sqlite” либо  при запуске приложения будет создана новая автоматически.
Для проверки корректности работы приложения можно использовать специализированную программу (в дальнейшем будут приведены примеры для Insomnia) или файл из репозитория “local.py”.
В базе данных есть три таблицы: books (столбцы: book_id, name, descr), authors (столбцы: author_id, name, info), relate_table (столбцы: book_ID, author_ID. Таблица связывает две предыдущие таблицы связью многие-ко-многим).
При использовании метода POST поля book_id и author_id заполняются автоматически. Поля name для обеих таблиц предназначены для ввода названия книги/имени автора и должны быть заполнены в обязательном порядке. Поля descr (предназначено для описания книги) и info (предназначено для внесения информации об авторе) могут оставаться незаполненными. Поля book_ID и author_ID  из таблицы relate_table нужны для связи таблиц books и authors. 
После запуска приложения можно составлять запросы.
Составление запроса GET:
1.	Специализированная программа:
- выбирается метод GET;
- указывается адрес http://127.0.0.1:5000/{название_таблицы} . Пример http://127.0.0.1:5000/books;
- отправляется запрос.
В ответе приходит вся информация из соответствующей таблицы.
Также можно просмотреть информацию об определенной книге/авторе. Для этого в запросе необходимо указать book_id / author_id, который нужно найти. Пример:
http://127.0.0.1:5000/books/1.
В ответе придет информация об книге: ID номер, название, описание, ID автора и имя автора книги; либо об авторе: ID номер, имя, информация, ID написанных автором книг, название книг.
2.	C использованием файла “local.py”:
- в файле указывается метод GET и название необходимой таблицы. Пример: 
res = requests.get('http://127.0.0.1:5000/books');
- в IDE создается дополнительный терминал, в котором запускается файл “local.py”:“python3 main.py” для Linux и “python3 main.py” для Windows.
В ответе приходит вся информация из соответствующей таблицы.
Также можно просмотреть информацию об определенной книге/авторе. Для этого в запросе необходимо указать book_id / author_id, который нужно найти. Пример:
res = requests.get('http://127.0.0.1:5000/books/1').
В ответе придет информация об книге: ID номер, название, описание, ID автора и имя автора книги; либо об авторе: ID номер, имя, информация, ID написанных автором книг, название книг.
Составление запроса POST:
1.	Специализированная программа:
- выбирается метод POST;
- указывается адрес http://127.0.0.1:5000/{название_таблицы} . Пример http://127.0.0.1:5000/books;
- тип текста JSON;
- прописываются данные, которые необходимо добавить в таблицу. Стоит обратить внимание на названия полей у таблиц. Пример для таблицы books:
	{
“name”:” The Master and Margarita”,
		“descr”:”The book about all”
	}.
Пример для таблицы authors:
	{
“name”:” M. Bulgakov”,
		“info”:”The Russian author”
	}.
Пример для таблицы relate_table:
	{
“book_ID”:” 5”,
		“author_ID”:”7”
	}. Таким образом книга с ID 5 будет связана с автором с ID 7;
- отправляется запрос;
- если информация была успешно добавлена, будет выведено сообщение:
{
		"status": "OK",
		"status_code": 200
}.
2.	C использованием файла “local.py”:
К сожалению, работает некорректно.
Но запрос должен быть составлен следующим образом (на примере таблицы books):
res = requests.get('http://127.0.0.1:5000/books',{“name”:” The Master and Margarita”,“descr”:”The book about all”).
